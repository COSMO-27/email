<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalog.Dmart</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <img src="asset/images/wallpaper.jpg" alt="" class="bg-image">

  <div class="container">
    <img src="asset/images/DMart New Log.png" alt="" class="logo">
  <div class="h1">
  <h1>Tempat Berkarya</h1>
  <h1>yang Inklusif</h1>
  <br>Kami akan go digital ğŸ“¤. Dapatkan informasi pelatihan, 
  <br>event, produk baru dan bahkan diskon untuk pembelian
  <br>kamu! Daftarin email kamu sekarang:
</div>
    <form id="contact-form">
        <label for="email"></label>
        <input type="email" id="email" name="email" placeholder="Email" required>
        <button type="submit" id="submit-button">Kirim</button>
        <p id="status-message"></p>
    </form>
  </div>

  <ul class="wrapper">
    <li class="icon facebook">
      <span><i class="fab fa-facebook-f"></i></span>
    </li>
    <li class="icon youtube">
      <span><i class="fab fa-youtube"></i></span>
    </li>
    <li class="icon tiktok">
      <span><i class="fab fa-tiktok"></i></span>
    </li>
    <li class="icon instagram">
      <span><i class="fab fa-instagram"></i></span>
    </li>
  </ul>

<script>
    const form = document.getElementById('contact-form');
    const submitButton = document.getElementById('submit-button');
    const statusMessage = document.getElementById('status-message');
    
    // Tempelkan URL Web App Anda di sini
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzgb6ArUQKEhWW-_P7RBfIagCRe4QYmusAuRBW7awjmyHMB_2JB_HSbZkvkIexh10ez/exec";
  
    form.addEventListener('submit', function(e) {
      e.preventDefault(); // Mencegah form reload halaman
  
      submitButton.disabled = true; 
      submitButton.textContent = 'Mengirim...';
      statusMessage.textContent = ''; 
  
      const formData = new FormData(form);
  
      fetch(SCRIPT_URL, {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.result === 'success') {
          statusMessage.textContent = 'Terima kasih! Pesan Anda telah terkirim.';
          form.reset(); // Kosongkan formulir
        } else {
          throw new Error(data.error || 'Terjadi kesalahan yang tidak diketahui.');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        statusMessage.textContent = 'Oops! Terjadi kesalahan: ' + error.message;
      })
      .finally(() => {
        submitButton.disabled = false; 
        submitButton.textContent = 'Kirim';
      });
    });
  </script>
</body>
</html>